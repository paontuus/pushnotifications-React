{"ast":null,"code":"import firebase from \"firebase\";\nexport function initNotif() {\n  var messaging = firebase.messaging();\n  messaging.requestPermission().then(function () {\n    console.log(\"Permission granted: \", messaging.getToken());\n    return messaging.getToken();\n  }).then(function (token) {\n    console.log(\"FCM Token:\", token);\n  }).catch(function (error) {\n    if (error.code === \"messaging/permission-blocked\") {\n      console.log(\"Notifications blocked, please enable\");\n    } else {\n      console.log(\"Error\", error);\n    }\n  });\n  messaging.onMessage(function (payload) {\n    console.log(\"Notification Received\", payload); //this is the function that gets triggered when you receive a \n    //push notification while you’re on the page. So you can \n    //create a corresponding UI for you to have the push \n    //notification handled.\n\n    navigator.serviceWorker.ready.then(function (registration) {\n      registration.showNotification('Web-notis-firebase', {\n        body: 'Pontus är bäst!',\n        icon: './logo.svg',\n        tag: 'Web-notis-test'\n      });\n    });\n  });\n}","map":{"version":3,"sources":["/Users/pontusmac/firebase-test/src/initNotification.js"],"names":["firebase","initNotif","messaging","requestPermission","then","console","log","getToken","token","catch","error","code","onMessage","payload","navigator","serviceWorker","ready","registration","showNotification","body","icon","tag"],"mappings":"AAAA,OAAOA,QAAP,MAAqB,UAArB;AAEA,OAAO,SAASC,SAAT,GAAqB;AACzB,MAAMC,SAAS,GAAGF,QAAQ,CAACE,SAAT,EAAlB;AACAA,EAAAA,SAAS,CACLC,iBADJ,GAEIC,IAFJ,CAES,YAAM;AACTC,IAAAA,OAAO,CAACC,GAAR,CAAY,sBAAZ,EAAoCJ,SAAS,CAACK,QAAV,EAApC;AACA,WAAOL,SAAS,CAACK,QAAV,EAAP;AACD,GALL,EAMIH,IANJ,CAMS,UAAAI,KAAK,EAAI;AACZH,IAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ,EAA0BE,KAA1B;AACD,GARL,EASIC,KATJ,CASU,UAAAC,KAAK,EAAI;AACb,QAAIA,KAAK,CAACC,IAAN,KAAe,8BAAnB,EAAmD;AAChDN,MAAAA,OAAO,CAACC,GAAR,CAAY,sCAAZ;AACF,KAFD,MAEO;AACJD,MAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBI,KAArB;AACF;AACD,GAfN;AAiBDR,EAAAA,SAAS,CAACU,SAAV,CAAoB,UAAAC,OAAO,EAAI;AAC7BR,IAAAA,OAAO,CAACC,GAAR,CAAY,uBAAZ,EAAqCO,OAArC,EAD6B,CAE7B;AACA;AACA;AACA;;AACAC,IAAAA,SAAS,CAACC,aAAV,CAAwBC,KAAxB,CAA8BZ,IAA9B,CAAmC,UAASa,YAAT,EAAuB;AACxDA,MAAAA,YAAY,CAACC,gBAAb,CAA8B,oBAA9B,EAAoD;AAClDC,QAAAA,IAAI,EAAE,iBAD4C;AAElDC,QAAAA,IAAI,EAAE,YAF4C;AAGlDC,QAAAA,GAAG,EAAE;AAH6C,OAApD;AAKD,KAND;AAOD,GAbD;AAcD","sourcesContent":["import firebase from \"firebase\";\n\nexport function initNotif() {\n   const messaging = firebase.messaging();\n   messaging\n      .requestPermission()\n      .then(() => {\n         console.log(\"Permission granted: \", messaging.getToken())\n         return messaging.getToken();\n       })\n      .then(token => {\n         console.log(\"FCM Token:\", token);\n       })\n      .catch(error => {\n         if (error.code === \"messaging/permission-blocked\") {\n            console.log(\"Notifications blocked, please enable\");\n         } else {\n            console.log(\"Error\", error);\n         }\n        }); \n\n  messaging.onMessage(payload => {\n    console.log(\"Notification Received\", payload);\n    //this is the function that gets triggered when you receive a \n    //push notification while you’re on the page. So you can \n    //create a corresponding UI for you to have the push \n    //notification handled.\n    navigator.serviceWorker.ready.then(function(registration) {\n      registration.showNotification('Web-notis-firebase', {\n        body: 'Pontus är bäst!',\n        icon: './logo.svg', \n        tag: 'Web-notis-test'\n      }); \n    });\n  });\n}\n\n\n"]},"metadata":{},"sourceType":"module"}